(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[861],{1861:function(e,t,r){"use strict";r.r(t);var a=r(6156),c=r(5893),o=r(7294),n=r(5411),i=r(2212),s=r(6637),l=r(7047),u=r(9225),p=r(8840),f=r(4864),h=r(7412),j=r(879),d=r(6286),m=r(1985),y=r(8867);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,a.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}i.Object3D.DefaultUp.set(0,0,1);var x="hotpink",w=function e(t,r,a){t.isMesh?(a&&(t.castShadow=!0,t.receiveShadow=!0),1!==r&&(t.material.isMaterial?(t.material.transparent=!0,t.material.opacity=r):Array.isArray(t.material)&&t.material.forEach((function(e){e.transparent=!0,e.opacity=r})))):"PointLight"===t.type?t.visible=!1:(t.isObject3D||t.isGroup)&&t.children.forEach((function(t){e(t,r,a)}))},b=function(e){var t=(0,n.U2)(s.j,e.url),r=(0,o.useMemo)((function(){return t.clone()}),[t]);return(0,c.jsxs)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,name:"loaded",children:[(0,c.jsx)("primitive",{object:r,attach:"geometry"}),(0,c.jsx)("meshStandardMaterial",{color:e.color?e.color:x,transparent:1!==e.opacity,opacity:e.opacity?e.opacity:1})]})},S=function(e){var t=(0,n.U2)(l.E,e.url);return(0,o.useEffect)((function(){t.scene.children.forEach((function(t){w(t,e.opacity,!0)}))})),(0,c.jsx)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,children:(0,c.jsx)("primitive",{object:t.scene,opacity:e.opacity,castShadow:!0,receiveShadow:!0})})},O=function(e){var t=(0,n.U2)(u.G,e.url),r=(0,o.useMemo)((function(){return t.scene.clone()}),[t.scene]);return(0,o.useEffect)((function(){r.children.forEach((function(t){w(t,e.opacity,!0)})),r.name="loaded"})),(0,c.jsx)("primitive",{object:r,position:e.t,scale:e.scale,quaternion:e.q})},g=function(e){var t=e.url.slice(0,e.url.length-3)+"mtl",r=(0,n.U2)(f.v,t),a=(0,n.U2)(p.L,e.url,(function(e){r.preload(),e.setMaterials(r)}));return(0,o.useEffect)((function(){a.children.forEach((function(t){w(t,e.opacity,!0)}))})),(0,c.jsx)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,children:(0,c.jsx)("primitive",{object:a})})},E=function(e){var t=(0,n.U2)(h.W,e.url);return(0,o.useEffect)((function(){t.children.forEach((function(t){w(t,e.opacity,!0)}))})),(0,c.jsx)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,children:(0,c.jsx)("primitive",{object:t})})},U=function(e){var t=(0,n.U2)(j.w,e.url);return(0,o.useEffect)((function(){t.material.color=e.color?new i.Color(e.color):new i.Color(x),t.material.transparent=1!==e.opacity,t.material.opacity=e.opacity?e.opacity:1})),(0,c.jsx)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,children:(0,c.jsx)("primitive",{object:t})})},M=function(e){var t=(0,n.U2)(d.F,e.url);return(0,c.jsxs)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,children:[(0,c.jsx)("primitive",{object:t,attach:"geometry"}),(0,c.jsx)("meshStandardMaterial",{color:e.color?e.color:x,transparent:1!==e.opacity,opacity:e.opacity?e.opacity:1})]})},P=function(e){var t=(0,n.U2)(m.y,e.url);return(0,o.useEffect)((function(){t.children.forEach((function(t){w(t,e.opacity,!0)}))})),(0,c.jsx)("mesh",{position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]],scale:[e.scale[0],e.scale[1],e.scale[2]],castShadow:!0,receiveShadow:!0,children:(0,c.jsx)("primitive",{object:t})})},D=function(e){var t=e.shape,r=e.color,a=e.index,o=e.opacity;return(0,c.jsxs)("mesh",{children:[(0,c.jsx)("meshLambertMaterial",{attach:"material",color:r,polygonOffset:!0,polygonOffsetFactor:-.1*a,transparent:1!==o,opacity:o||1}),(0,c.jsx)("shapeBufferGeometry",{attach:"geometry",args:[t]})]})},k=o.memo((function(e){var t=(0,n.U2)(y.u,e.url).paths,r=(0,o.useMemo)((function(){return t.flatMap((function(e,t){return e.toShapes(!0).map((function(r){return{index:t,shape:r,color:e.color}}))}))}),[t]);return(0,c.jsx)("group",{children:r.map((function(t,r){return(0,c.jsx)(D,v({opacity:e.opacity},t),r)})),scale:[-.01*e.scale[0],.01*e.scale[1],.01*e.scale[2]],position:[e.t[0],e.t[1],e.t[2]],quaternion:[e.q[0],e.q[1],e.q[2],e.q[3]]})}));t.default=function(e){var t=e.filename.split(".").pop().toLowerCase(),r=e.filename;switch(r="retrieve/"+r,t){case"stl":return(0,c.jsx)(b,v({url:r},e));case"gltf":case"glb":return(0,c.jsx)(S,v({url:r},e));case"dae":return(0,c.jsx)(O,v({url:r},e));case"obj":return(0,c.jsx)(g,v({url:r},e));case"wrl":return(0,c.jsx)(E,v({url:r},e));case"pcd":return(0,c.jsx)(U,v({url:r},e));case"ply":return(0,c.jsx)(M,v({url:r},e));case"fbx":return(0,c.jsx)(P,v({url:r},e));case"svg":return(0,c.jsx)(k,v({url:r},e));default:return(0,c.jsx)(O,v({url:r},e))}}}}]);